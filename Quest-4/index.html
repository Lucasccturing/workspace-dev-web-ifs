<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONG (Mão Amiga)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>ONG - Mão Amiga</h1>
    <h2>Formulário de cadastro</h2>

    <form id="formularioDownload" action="/IFS-Web/forms/" method="post" target="_blank">

        <div>
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome">
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email">
        </div>
        <div>
            <label for="assunto">Assunto:</label>
            <input type="text" id="assunto" name="assunto">
        </div>
        <div>
            <label for="message">Mensagem:</label>
           <textarea id="mensagem" placeholder="Comentários sobre o assunto"></textarea>
        </div>
        <div>
            <button type="submit">Enviar Mensagem</button>
        </div>
    </form>

    <script>
        document.getElementById("formularioDownload").addEventListener("submit", function(e) {
            e.preventDefault(); // Impede o envio padrão do formulário

            // Pega os valores
            const nome = document.getElementById("nome").value.trim();
            const email = document.getElementById("email").value.trim();
            const assunto = document.getElementById("assunto").value.trim();
            const mensagem = document.getElementById("mensagem").value.trim();

            // Monta o conteúdo do arquivo
            const conteudo = `------------------Forms-------------------\n\nNome: ${nome}\nEmail: ${email}\n\nAssunto: ${assunto}\nMensagem: ${mensagem}\n`;

            // Cria um blob e um link temporário para download
            const blob = new Blob([conteudo], { type: "text/plain" });
            const url = URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "forms.txt";
            a.click();

            // Libera memória
            URL.revokeObjectURL(url);
        });
    </script>
</body>

</html>